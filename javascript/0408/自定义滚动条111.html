<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <style>
            *{
                margin:0;
                padding:0;
                list-style-type:none;
                overflow:hidden;
            }
            #outer{
                position:fixed;
                top:0;
                right:0;
                width:20px;
                height:100%;
                background-color:#F1F1F1;
            }
            #inner{
                position:absolute;
                top:20px;
                width:20px;
                background-color:#C1C1C1;
            }
            #top,#bottom{
                width:20px;
                height:20px;
                background-color:#000;
                position:absolute;
                right:0;
                z-index:1;
            }
            #top{
                top:0;
            }
            #bottom{
                bottom:0;
            }
        </style>
    </head>
    <body>
        <div id="content">

        </div>
        <div id="outer">
            <div id="top"></div>
            <div id="inner"></div>
            <div id="bottom"></div>
        </div>
        <script>
            var oContent=document.getElementById("content");
            var oOuter=document.getElementById("outer");
            var oTop=document.getElementById("top");
            var oInner=document.getElementById("inner");
            var oBottom=document.getElementById("bottom");
            for(var i=0;i<300;i++){
                oContent.innerHTML+=i+"<br/>";
            }
            //
            var a=document.documentElement.offsetHeight;
            var c=document.documentElement.clientHeight;
            console.log(a,c);
            var b=oOuter.clientHeight-oTop.clientHeight-oBottom.clientHeight;
            console.log(b);
            var x=b*c/a;
            console.log(x);
            oInner.style.height=x+"px";
        </script>
    </body>
</html>